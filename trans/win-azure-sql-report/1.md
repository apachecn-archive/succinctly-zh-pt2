# 第 1 章 SQL 报告简介

也许你听说过 Windows Azure 和 SQL Server，甚至 SQL Server 报表服务。但是 Windows Azure SQL Reporting 到底是什么呢？在这个介绍中，我首先提供这个问题的答案。接下来，我提供了 SQL Reporting 与 Reporting Services 的比较，以便您可以更好地了解基于云的报告解决方案和内部报告解决方案之间的异同。此时，您可能仍然想知道为什么需要使用 SQL Reporting，而不是使用非常好的 Reporting Services 解决方案，因此我也解释了 SQL Reporting 的一些优点，并描述了它非常适合的一些常见场景。

| ![](../Images/image001.png) | 注意:虽然熟悉 SQL Server 报告服务很有帮助，但这不是必需的。在本电子书中，您将学习成功创建、部署、管理和查看报告所需的基础知识。 |

## 什么是 SQL 报告？

一个简单宽泛的解释是，SQL Reporting 是报告服务的一个版本……在云中。但是“在云端”意味着什么呢从概念上讲，云中的应用程序依赖于您通过互联网访问的硬件、安全性、应用程序和网络基础架构，并由第三方作为商业服务进行构建、维护、监控和调整。通常，您需要付费订阅才能使用云提供商提供的计算能力。就 SQL Reporting 而言，该第三方是微软。

与其内部前身“报告服务”一样，SQL Reporting 是一个支持三种不同类型活动的平台，我们称之为报告生命周期:

*   拟定报告
*   报告管理
*   报告访问

虽然 SQL Reporting 本身并不为**报表开发**提供工具，但它支持专业报表开发人员和为 Reporting Services 创建报表的技术含量较低的业务用户常用的相同工具。SQL Server 数据工具、商业智能开发工作室和报表生成器允许您在本地创建报表。然后，您可以稍后连接到您的 SQL Reporting 服务器来保存它。

将一个或多个报表保存到 SQL Reporting 后，可以使用门户执行各种**报表管理**任务。您可以将报告组织到文件夹中，保护报告，并监控使用情况。

SQL Reporting 支持用户通过门户访问**报表**，使用 URL 直接访问，或者使用 Web 服务方法自定义应用。用户可以在线查看报告，或者将其导出为各种其他格式，如 Excel 和 PDF。

## SQL 报告与报告服务相比如何？

虽然 SQL Reporting 类似于 Reporting Services，但它与 Reporting Services 中的功能并不相同。表 1 总结了每种产品支持的功能。

表 1:特征比较

| 特征 | 报告服务 | SQL 报告 |
| 设计工具(SSDT、投标、报告构建器) | 是 | 是 |
| 网址访问 | 是 | 是 |
| 导出为多种格式 | 是 | 是 |
| 支持多种类型的数据源 | 是 | 仅 SQL 数据库 |
| 报表门户的 Web 应用程序 | 是 |  |
| 导出为数据馈送 | 是 |  |
| 贮藏 | 是 |  |
| 捐款 | 是 |  |
| 快照 | 是 |  |
| 报告历史记录 | 是 |  |
| 外部图像 | 是 |  |
| 扩展ˌ扩张 | 是 |  |
| 报表中的自定义代码 | 是 |  |
| SharePoint 集成 | 是 |  |
| Windows 集成安全性 | 是 |  |
| 自定义身份验证 | 是 | 是 |
| 基于角色的安全性 | 是 | 是 |
| 网址访问 | 是 | 是 |
| 在自定义应用程序中嵌入报告 | 是 | 是 |

Reporting Services 是一个成熟、功能全面的内部报告平台，能够通过按需执行或计划交付流程，以多种方式向组织内外的人员提供对报告的访问。为了确保最佳性能，它包括后台处理和缓存管理选项。

相比之下，SQL Reporting 是 Windows Azure 平台的一个组件，在报告生命周期的一部分中用作基于云的服务。本质上，您可以将内部部署的服务器换成云中类似的服务器或服务器群。虽然您继续使用与报表服务相同的工具来生成报表，但是您不能通过使用嵌入式代码或外部程序集来自定义 SQL Reporting 报表。此外，您不能使用外部图像或将报告导出为数据馈送。

将报告发布到 SQL Reporting 后，您可以使用管理门户来组织和保护云中的内容。但是，报告服务中提供的许多管理功能缺失。例如，您不能配置后台处理选项，如缓存、快照或订阅，也不能管理报表历史记录。

当您从 SQL Reporting 访问报表时，您可以从报表门户访问它们，但是它缺少在报表服务中可用的报表管理器 web 应用程序中找到的界面。您看到的不是精美的用户界面，而是文件夹和报告的链接列表。打开报表后，SQL Reporting 和 Reporting Services 之间的体验非常相似。一个例外是无法将 SQL Reporting 报告导出到数据馈送。报表服务中的所有其他导出选项都可以在 SQL Reporting 中找到。

## 为什么使用 SQL 报告？

如果 SQL Reporting 没有与 Reporting Services 相同的功能，为什么要使用它？对于某些情况，SQL Reporting 绝对不是正确的解决方案。然而，在许多情况下，它是完美的。

在考虑此类场景之前，让我们考虑一下您通过基于云的报告解决方案获得的一些优势。首先，您可以在几分钟内添加一台新服务器，无论何时需要，只要您需要。考虑到购买硬件和软件，然后对其进行配置、保护、安装软件等所需的时间和资金，您根本无法在自己的组织中快速、经济高效地实现这一点。

此外，如果您需要支持大量用户，您需要创建一个可扩展的环境。内部解决方案需要更多的时间、金钱、硬件和资源来实现扩展，但是使用 SQL Reporting，您可以非常轻松地根据需要添加更多的服务器，也可以轻松地将它们拿走。与 Windows Azure 平台提供的其他服务一样，SQL Reporting 旨在支持弹性扩展。您只需为您使用的内容付费，并且可以根据您的需求添加或释放多余的容量。根据您的日常、每月或季节性需求，您可以轻松快速地添加订阅和报表服务器以扩展您的 SQL Reporting 环境的容量，或者删除订阅和服务器以降低其容量。

基于云的报告解决方案将您从维护开销活动中解放出来，例如向服务器应用补丁程序，并确保它已使用最新的服务包进行了更新。此时，您的 SQL Reporting Server 的管理范围仅限于添加用户并授予他们对服务器资源的权限。SQL Reporting 包含一个管理门户，您可以在其中手动执行这些任务，也可以使用网络服务应用编程接口开发自己的安全管理应用程序。

SQL Reporting 提供了足够的灵活性来适应各种需求。正如没有两种报表服务实现是完全相同的一样，使用 SQL Reporting 有多种方法。让我们考虑一下 SQL Reporting 的四种可能的用例场景:

*   小公司
*   大公司
*   有限的项目寿命
*   云应用开发者

### 小公司

即使是一家小公司，也对业务做得有多好有疑问。您可能有一两个收集数据的业务应用程序，但是您需要更好的方法来使用这些数据。当您没有正式的信息技术部门时，您的企业中可能没有任何人具备设置和维护报表服务器的适当技能。在这种情况下，SQL Reporting 可以在不增加人员的情况下提供您需要的功能。

SQL Reporting 允许您开始深入了解您的数据，即使没有一套正式的报告。作为 SQL Reporting 的自助业务智能功能的一部分，您可以设置各种报表部分，供人们用来构建自己的报表。也就是说，人们可以使用预先构建的报表部分和数据集来构建自己的报表，以响应特定的问题，而无需知道如何编写查询或配置数据区域。更好的是，当您的组织有一个集中的地方来存储生成的报告时，公司中的每个人都可以利用其他人创建的东西，这就是新见解的开发方式。底线是商业智能不仅仅是大公司的专利。

### 大公司

在大型公司中，您有一个信息技术人员和一个技术基础设施来支持报告需求。然而，支持移动工作人员的需求变得越来越普遍。这些移动工作人员需要在离开办公室时通过网络访问公司数据，无论是通过浏览器还是智能手机或平板电脑等移动设备。尽管 Reporting Services 支持这种情况，但设置起来并不容易。安全性的配置非常具有挑战性，无论何时您将公司网络的访问权限开放给互联网，这种开放都存在被利用的真实风险。

您可以将人们报告所需的数据放入基于云的关系数据库平台 SQL Database 中，从而将其隔离。然后构建移动用户需要的报告，并将这些报告部署到 SQL Reporting。这样，他们可以安全地检索他们需要的数据，而不会让您的公司网络面临风险。

### 有限的项目寿命

无论您的公司规模有多大，另一个非常适合 SQL Reporting 解决方案的场景是一个项目，它的生命周期有限，但需要您快速地为成千上万的用户扩展解决方案。例如，假设您有一个季度调查，在几周内有大量活动，在此期间您收集数据，然后在接下来的几周内，您与这些用户共享汇总数据。

当您为这样的项目使用基于 SQL Server 和 Reporting Services 的内部解决方案时，在您的解决方案准备好投入生产之前，需要采取许多步骤。您必须获得硬件，安装软件，执行全面的负载测试，等等。花费大量的时间和金钱来支持以周为单位的需求。

另一方面，使用基于 SQL Database 和 SQL Reporting 的云解决方案，您可以在需要时添加服务器，启用您的应用程序，收集数据，并以最少的工作量交付报告。只需几分钟就能建立可扩展且高度可用的基础架构。稍后，当您准备退出项目时，您可以将数据归档回内部服务器。

### 云应用开发者

另一个需要考虑的场景是与 Windows Azure 云应用程序的集成。假设您是一个执行服务的应用程序的开发人员，并且像传统的内部解决方案一样，在这个过程中收集数据。此外，您希望将报告作为解决方案的一部分。没有必要自己开发报告机制。您可以简单地将 SQL Reporting 添加到您的应用程序体系结构中，并轻松地向用户提供报告功能。