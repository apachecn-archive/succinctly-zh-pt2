# 一、什么是 NancyFX？

Nancy 是。NET 平台。Nancy 深受 ruby 世界中可用的 [Sinatra](http://www.sinatrarb.com/) 框架的启发，为“网络使能”您的应用提供了一个低调、没有烦恼的工具包，不管是哪一个。NET 语言来构建它们。

你会注意到我使用了“网络使能”这个术语，这是有充分理由的。Nancy 不仅仅是一个设计用于构建网站或 API 端点的 web 应用框架；它是一个完整的框架，可用于将基于 HTTP 的服务器设施添加到从简单的控制台模式应用到运行在[翁布拉科](http://umbraco.com/)和 ASP.NET MVC 等平台上的大型企业网站的所有内容中。

Nancy 可以在传统场景中托管，例如经典的带有 ASP.NET 的 IIS7，并且它可以是自托管的。自我托管特别有趣，因为它意味着通常不可见的应用(如窗口服务)现在可以有一个网络接口连接到它们，用于管理目的。

Nancy 也可以在 Mono 框架下的 Linux 和 Unix 系统上构建，并将愉快地运行。这意味着你可以(或者至少应该能够)在安卓和苹果操作系统上运行支持 Nancy 的代码。然而，我不会说你肯定可以用这两个操作系统做到这一点，因为我个人从未尝试过在安卓或苹果操作系统上使用 Nancy。

这本书将主要关注使用 Visual Studio 在 Windows 平台上运行 Nancy。然而，我已经尝试了您将在 Ubuntu Linux 和运行“Raspbian”版本 Linux 的树莓 PI 上介绍的大部分代码，两者都被证明可以正常工作。

你可能已经问过自己是否应该使用 Nancy 而不是另一个框架，比如 MVC、ASP、Ember 或者 ServiceStack。你怎么知道哪个最好？事实是，没有一个“最好的框架”适合你作为软件开发人员在工作中必须完成的每一项任务——你只需要为手头的任务选择最好的框架。

然而，我所知道的是，Nancy 提供了一大块非常容易获得和使用的功能。

作为一种比较，当我第一次发现 Nancy 的时候(早在 2011 年，关于 0.8 或 0.9 版本)，我学会了我需要知道的一切，并在大约半天的时间里开始运行。在我第一次使用它的几年后，ASP.NET MVC 仍然是一个持续的学习过程。

## Nancy 的战力一目了然

那么 Nancy 能做什么呢？下面是基本框架的一个简短列表:

*   基于休息的路由
*   使用内置的简单视图引擎进行视图页面替换
*   静态文件服务
*   多租户服务托管
*   Rest API 身份验证(基本、表单和基于令牌)
*   灵活的模型绑定
*   多格式内容协商
*   密钥和短语生成
*   SSL 证书处理
*   异步任务处理
*   依赖注入

这份名单只是冰山一角；由于工具包的模块化特性，这里提到的所有内容都可以被自定义代码覆盖。您可以轻松地插入自己的依赖注入容器，或者提供自己的扩展身份验证方案。

有了可以添加到 Nancy 中的额外第三方程序集，您还可以获得以下内容:

*   基于 OAuth 的身份验证
*   连接到第三方诊断和记录提供商(如 scope 和 ELMAH)
*   跨平台集成到 NGINX、Apache 和其他非 Windows 应用堆栈中
*   你能想象并为之编写适配器的任何其他东西

最后一点不仅仅是为了效果——你可以轻易地忽略任何你想要(或需要)的东西。Nancy 中的每个接口都是公开的，并且大部分都是自动连接的，这意味着您通常需要做的就是编写一个实现给定接口的类，Nancy 会找到它并完成剩下的工作。

Nancy 的最后一个主要把戏是主持。Nancy 可以托管在多个场景中；Nancy 维基上的基本列表如下:

*   ASP.NET
*   Windows 通信基金会
*   Microsoft Azure
*   OWIN
*   自我托管(独立应用)
*   本影
*   NGINX
*   任何支持 FastCGI 的东西

和其他东西一样，如果需要的话，你可以实现一个接口来提供你自己的主机提供商。

## 总结

在本章中，您学习了什么是 NancyFX 框架以及它的功能。在下一章中，你将了解更多关于 Nancy 创作背后的故事，以及更多关于其精神特质、理想和“超级傻瓜快乐之路”的信息